Cuba cannot sell rum in the United States, but an American court ruling over Cuba's rights to the Havana Club trademark has President Fidel Castro so mad he is threatening to market his own brand of ''Coca-Cola.''

He's not the only one fuming. So are executives at Pernod Ricard S.A., the French beverage giant that paid an estimated $50 million six years ago to team up with Cuba to produce and export Havana Club rum, the island's prize liquor. The European Union has taken up Pernod Ricard's cause, and the prospect looms large that rum will soon join bananas, airplane engine mufflers and hormone-treated beef in the parade of trans-Atlantic trade disputes.

In fact, with the exception of Bacardi-Martini U.S.A., the United States subsidiary of Bacardi Ltd., which contends that it holds the rights to the Havana Club name, just about everyone seems unhappy with the ruling. The ruling, in April, by Federal District Judge Shira A. Scheindlin of Manhattan, denied trademark rights to Cuba's most famous rum.

Many American companies, fearful of losing their trademark rights in Cuba, are lobbying for the repeal of the law on which the ruling was based. Criticism of the legislation is even being heard from some quarters in the United States Trade Representative's office, the guardian of corporate America's global interests.